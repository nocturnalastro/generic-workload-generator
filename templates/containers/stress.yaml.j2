-   env:
    -   name: TZ
        value: UTC
    -   name: POD_NAME
        valueFrom:
        fieldRef:
            apiVersion: v1
            fieldPath: metadata.name
    -   name: NAMESPACE
        valueFrom:
        fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
    -   name: POD_UID
        valueFrom:
        fieldRef:
            apiVersion: v1
            fieldPath: metadata.uid
    -   name: NODE_NAME
        valueFrom:
        fieldRef:
            apiVersion: v1
            fieldPath: spec.nodeName
    {% if cpu_stress %}
    -   name: "stress_cpu"
        value: {{ cpu_stress }}
    {% endif -%}
    {% if mem_stress %}
    -   name: "stress_vm-bytes"
        value: {{ mem_stress }}
    {% endif -%}
    image: "ghcr.io/abraham2512/fedora-stress-ng:master"
    imagePullPolicy: IfNotPresent
    livenessProbe:
        httpGet:
            path: "/healthz"
            port: 8080
    resources:
        limits:
            cpu: {{ limit_cpu_count }}
            memory: {{ limit_memory }}
        requests:
            cpu: {{ requested_cpu_count }}
            memory: {{ requested_memory }}
    securityContext:
        allowPrivilegeEscalation: false
        capabilities:
        drop:
        - ALL
        - MKNOD
        privileged: false
        readOnlyRootFilesystem: true
        runAsNonRoot: true
    {%- if (volumeMounts | default([]) | length) > 0 %}
    volumeMounts:
        {{ volume_mounts }}
    {% endif %}